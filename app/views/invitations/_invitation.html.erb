<%= turbo_frame_tag invitation do %>
  <%# A flex container with a bottom border for a flat list appearance %>
  <div class="flex items-start justify-between gap pbe-4 mbe-4 border-be border-main">

    <%# Left Side: Contact Info %>
    <div class="flex-col">
      <p class="font-medium text-primary"><%= invitation.contact.full_name %></p>
      <p class="text-sm text-subtle"><%= invitation.contact.email %></p>
    </div>

    <%# Right Side: Management Form %>
    <div class="w-1/2">
      <%= form_with(model: invitation, class: "flex flex-col gap-half", data: { controller: "autosubmit" }) do |form| %>
        <%= form.select :status,
                        Invitation.statuses.keys.map { |s| [s.humanize, s] },
                        {},
                        { class: "input i-full", "data-action": "change->autosubmit#submit" } %>

        <%= form.text_area :notes,
                           rows: 2,
                           placeholder: "Add notes (e.g., 'Switched off', 'Out of town')",
                           class: "input text-sm",
                           "data-action": "blur->autosubmit#submit" %>
      <% end %>
    </div>
  </div>
<% end %>