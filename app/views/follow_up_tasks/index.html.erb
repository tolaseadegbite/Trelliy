<% content_for :title, "Pending Follow-Ups" %>

<% content_for :page_header do %>
  <h1 class="font-semibold">Pending Follow-Ups</h1>
<% end %>

<div class="p-4">
  <%# --- SEARCH AND FILTER FORM --- %>
  <%= render "follow_up_tasks/search_form" %>

  <%# --- TURBO FRAME FOR DYNAMIC UPDATES --- %>
  <%= turbo_frame_tag :follow_up_tasks_list do %>

    <%# --- RESULTS LIST --- %>
    <div class="card pb-0">
      <div id="follow_up_tasks" class="flex flex-col">
        <% if @follow_up_tasks.any? %>
          <%= render @follow_up_tasks %>
        <% else %>
          <p class="text-subtle">No pending follow-ups match your search.</p>
        <% end %>
      </div>
    </div>

    <%= render "shared/pagination", pagy: @pagy %>
    
  <% end %> <%# --- End of Turbo Frame --- %>
</div>