<% if @event.persisted? %>
  <%# SUCCESS %>
  <%= turbo_stream.prepend "events-list", partial: "events/event_list_item", locals: { event: @event } %>
  <%= turbo_stream.replace "calendar_view", partial: "events/calendar" %>
  <turbo-stream action="dispatch_event" name="dialog:close"></turbo-stream>
<% else %>
  <%# FAILURE %>
  <%= turbo_stream.update "modal", partial: "events/form", locals: { event: @event } %>
<% end %>

<%= turbo_stream.update "flash_messages", partial: "shared/flash", locals: { notice: flash.now[:notice], alert: flash.now[:alert] } %>