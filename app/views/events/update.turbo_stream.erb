<% if @event.errors.any? %>
  <%# --- FAILURE CASE --- %>
  <%= turbo_stream.update "modal", partial: "events/form", locals: { event: @event } %>
<% else %>
  <%# --- SUCCESS CASE --- %>

  <%= turbo_stream.replace @event, partial: "events/event_list_item", locals: { event: @event } %>

  <%= turbo_stream.replace "calendar_view", partial: "events/calendar" %>

  <%# 3. Close the Modal %>
  <turbo-stream action="dispatch_event" name="dialog:close"></turbo-stream>
<% end %>

<%= turbo_stream.update "flash_messages", partial: "shared/flash", locals: { notice: flash.now[:notice], alert: flash.now[:alert] } %>